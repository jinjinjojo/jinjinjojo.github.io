<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Nothing Beats Flamepass...</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500&display=swap" rel="stylesheet"><link rel="stylesheet" href="./style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>
<body>
<!-- partial:index.partial.html -->
<h1>
  Nothing Beats 
  <span class="magic">
    <span class="magic-star">
      <svg viewBox="0 0 512 512">
      <path d="M512 255.1c0 11.34-7.406 20.86-18.44 23.64l-171.3 42.78l-42.78 171.1C276.7 504.6 267.2 512 255.9 512s-20.84-7.406-23.62-18.44l-42.66-171.2L18.47 279.6C7.406 276.8 0 267.3 0 255.1c0-11.34 7.406-20.83 18.44-23.61l171.2-42.78l42.78-171.1C235.2 7.406 244.7 0 256 0s20.84 7.406 23.62 18.44l42.78 171.2l171.2 42.78C504.6 235.2 512 244.6 512 255.1z" />
      </svg>
    </span>
    <span class="magic-star">
      <svg viewBox="0 0 512 512">
      <path d="M512 255.1c0 11.34-7.406 20.86-18.44 23.64l-171.3 42.78l-42.78 171.1C276.7 504.6 267.2 512 255.9 512s-20.84-7.406-23.62-18.44l-42.66-171.2L18.47 279.6C7.406 276.8 0 267.3 0 255.1c0-11.34 7.406-20.83 18.44-23.61l171.2-42.78l42.78-171.1C235.2 7.406 244.7 0 256 0s20.84 7.406 23.62 18.44l42.78 171.2l171.2 42.78C504.6 235.2 512 244.6 512 255.1z" />
      </svg>
    </span>
    <span class="magic-star">
      <svg viewBox="0 0 512 512">
      <path d="M512 255.1c0 11.34-7.406 20.86-18.44 23.64l-171.3 42.78l-42.78 171.1C276.7 504.6 267.2 512 255.9 512s-20.84-7.406-23.62-18.44l-42.66-171.2L18.47 279.6C7.406 276.8 0 267.3 0 255.1c0-11.34 7.406-20.83 18.44-23.61l171.2-42.78l42.78-171.1C235.2 7.406 244.7 0 256 0s20.84 7.406 23.62 18.44l42.78 171.2l171.2 42.78C504.6 235.2 512 244.6 512 255.1z" />
      </svg>
    </span>
    <span class="magic-text">Flamepass</span>
  </span>.
  ðŸ”¥ðŸ”¥ðŸ”¥
</h1>
<div id="statusbutton" class="meta-link">
  <i class="fa-solid fa-circle"></i>
  <span class="roboto-mono"> Status: Loading</span>
</div>
<div id="link2" class="meta-link">
  <i class="fa-solid fa-link"></i>
  <span class="roboto-mono"> Version: 1.4</span>
</div>
<a id="link1" class="meta-link" href="https://flamepass.com" target="_blank">
  <i class="fa-solid fa-globe"></i>
  <span class="roboto-mono"> Website: Flamepass.com</span>
</a>
<a id="source-link" class="meta-link" href="https://discord.gg/fFFUpS7jbz" target="_blank">
  <i class="fa-brands fa-discord"></i>
  <span class="roboto-mono"> Discord Server</span>
</a>

<div id="yt-link" class="meta-link">
  <i class="fa-solid fa-magnifying-glass"></i>
  <span> To Search, Type In The Box Above</span>
  <i class="fa-solid fa-arrow-up"></i>
</a>
</div>
 
  <iframe id="frame" style="position:fixed; right:0px; bottom:0px; width:1%; height:1%; border:none; margin:0; padding:0; overflow:hidden; z-index:999999;"></iframe>
  <script>
    window.onload = function() {
      var iframe = document.getElementById("frame");
      var isFirstLoadKey = "isFirstLoad";
      var isFirstLoad = !localStorage.getItem(isFirstLoadKey);
      iframe.remove();
      if (isFirstLoad) {
        
        iframe.src = "/prox/?uul=https://blank.org"; 
        localStorage.setItem(isFirstLoadKey, "true"); 
        setTimeout(function() {
          iframe.remove();
        }, 2000);
      }
      setTimeout(() => {
        fetch('/prox/uv/uv.config.js')
          .then(response => response.text())
          .then(text => {
            // Improved regex pattern to handle whitespace more robustly
            const bareUrlMatch = text.match(/bare:\s*['"](.*?)['"]/);
            const bareUrl = bareUrlMatch ? bareUrlMatch[1] : null; // Extract bareUrl or set to null if not found

            // console.log("Config Text:", text); // Debugging log to see the fetched config text
            // console.log("Bare URL Match:", bareUrlMatch); // Debugging log to see the match result

            const linkElement = document.getElementById('statusbutton'); // Get the element
            const statusSpan = linkElement.querySelector('span'); // Get the span within

            if (bareUrl) {
              fetch(bareUrl)
                .then(response => response.json())
                .then(data => { // Access response data as JSON
                  const language = data.language?.toLowerCase(); // Access language, handle potential missing property

                  if (language === 'nodejs') { // Check for 'nodejs' (case-insensitive)
                    statusSpan.textContent = 'Status: Operational';
                    linkElement.querySelector('i').style.color = 'rgb(15, 209, 57)'; // Set green for operational
                  } else {
                    statusSpan.textContent = 'Status: Broken (Error Code 2: Server is not a bare server)';
                    linkElement.querySelector('i').style.color = 'red'; // Set red for broken
                  }
                })
                .catch(() => {
                  statusSpan.textContent = 'Status: Broken (Error Code 1: Bare server cannot be reached)';
                  linkElement.querySelector('i').style.color = 'red'; // Set red for broken
                });
            } else {
              // Handle case where "bare" URL is not found in the config
              statusSpan.textContent = 'Status: Broken (Error Code 0: Bare URL cannot be found)';
              linkElement.querySelector('i').style.color = 'red'; // Set red for broken
              console.error('Failed to find "bare" URL in config');
            }
          })
          .catch(error => {
            statusSpan.textContent = 'Status: Broken (Error Code 9: Error fetching config file)';
            linkElement.querySelector('i').style.color = 'red'; // Set red for broken
            console.error('Error fetching config:', error);
          });
      }, 200);
    };
    
  </script>
  <script src="./script.js"></script>
</body>
</html>
